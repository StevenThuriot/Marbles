---
layout: base
---

{% assign subscription = page.category | titleize %}
{% capture subscriptionUrl %}{{ site.url }}/tag/{{ page.category }}/rss/{% endcapture %}

{% include sidebar.html %}

{% capture slugCategory %}{{page.category | slugify }}{% endcapture %}
{% if site.data.tags[slugCategory].cover %}
    {% assign cover = site.data.tags[slugCategory].cover %}
{% else %}
    {% assign cover = site.cover %}
{% endif %}

{% if site.data.tags[slugCategory].title %}
    {% assign title = site.data.tags[slugCategory].title %}
{% else %}
    {% capture title %}{{ page.category | titleize }}{% endcapture %}
{% endif %}


{% if cover %}
<div class="main-header post-head" style="background-image: url({{ cover }})"></div>
{% endif %}

<main class="narrow-content" role="main">

    <div class="main-header-content inner">
        <h1 class="page-title">{{ title }}</h1>
        <h2 class="page-description">A {{site.categories[page.category].size}}-post collection</h2>
    </div>
    
    {% for post in site.categories[page.category] %}
    <article class="post">
        <header class="post-header">
            <h2 class="post-title"><a href="{{ post.url }}">{{ post.title }}</a></h2>
        </header>
        <section class="post-excerpt">
            <p>{{ post.excerpt | truncatewords: 30 | markdownify }} <a class="read-more" href="{{ post.url }}">Â»</a></p>
        </section>
        <footer class="post-meta">
            {% assign categories = post.categories | sort %}
            {% for category in categories %}
                <a href="/tag/{{ category | slugify }}/">{{ category | titleize }}</a>{% if forloop.last == false %}, {% endif %}
            {% endfor %}
            <time class="post-date" datetime="{{ post.date | date:"%Y-%m-%d" }}">{{ post.date | date: "%-d %B %Y" }}</time>               
        </footer>
    </article>
    {% endfor %}
</main>